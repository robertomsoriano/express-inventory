(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{195:function(e,t,a){e.exports=a(235)},222:function(e,t,a){},223:function(e,t,a){},235:function(e,t,a){"use strict";a.r(t);var l=a(0),n=a.n(l),r=a(29),c=a.n(r),s=a(19),m=a(22),o=a(12),i=a(15),u=a.n(i),d="EXPRESS-INVENTORY_TOKEN",E=(e,t,a=null)=>({type:"GET_ERRORS",payload:{msg:e,status:t,id:a}}),h=()=>({type:"CLEAR_ERRORS"}),p=e=>{var t=e().auth.token,a={headers:{"Content-type":"application/json"}};return t&&(a.headers["x-auth-token"]=t),a},g=()=>(e,t)=>{e(b()),u.a.delete("/api/cart-items/vehicle",p(t)).then(t=>{e({type:"DELETE_CART_VEHICLE",payload:t.data})}).catch(t=>e(E(t.response.data,t.response.status)))},_=e=>(t,a)=>{t(b()),u.a.put("/api/cart-items/add",{item:e},p(a)).then(e=>{t({type:"UPDATE_CART_ITEM",payload:e.data})}).catch(e=>t(E(e.response.data,e.response.status)))},b=()=>e=>e({type:"CART_LOADING"}),v=(a(220),a(221),a(222),a(223),a(11)),y=a(253),O=a(246),f=a(254),j=a(255),C=a(256),S=a(257),N=a(258),x=a(259),k=a(284),I=a(247),T=a(248),A=a(249),w=a(251),L=a(252),R=a(273),V=a(250);class D extends l.Component{constructor(...e){super(...e),this.state={modal:!1,name:"",email:"",password:"",msg:null},this.toggle=()=>{this.props.clearErrors(),this.setState({modal:!this.state.modal})},this.onChange=e=>{this.setState({[e.target.name]:e.target.value})},this.onSubmit=e=>{e.preventDefault();var t=this.state,a={name:t.name,email:t.email,password:t.password};this.props.register(a)}}componentDidUpdate(e){var t=this.props,a=t.error,l=t.isAuthenticated;a!==e.error&&("REGISTER_FAIL"===a.id?this.setState({msg:a.msg.msg}):this.setState({msg:null})),this.state.modal&&l&&this.toggle()}render(){return n.a.createElement(n.a.Fragment,null,n.a.createElement(O.a,{onClick:this.toggle,href:"#",className:"login-modal"},"Register"),n.a.createElement(k.a,{isOpen:this.state.modal,toggle:this.toggle},n.a.createElement(I.a,{toggle:this.toggle},"Register"),n.a.createElement(T.a,null,this.state.msg?n.a.createElement(A.a,{color:"danger"},this.state.msg):null,n.a.createElement(R.a,{onSubmit:this.onSubmit},n.a.createElement(w.a,null,n.a.createElement(R.a.Field,{control:V.a,icon:"address card",type:"text",name:"name",id:"name",label:"Full name",placeholder:"Full name",onChange:this.onChange,required:!0}),n.a.createElement(R.a.Field,{control:V.a,icon:"user",iconPosition:"left",label:"Email/Username",placeholder:"Email/Username",type:"email",name:"email",id:"email",onChange:this.onChange,required:!0}),n.a.createElement(R.a.Field,{control:V.a,icon:"lock",iconPosition:"left",label:"Password",type:"password",name:"password",id:"password",placeholder:"Password",onChange:this.onChange,required:!0}),n.a.createElement(L.a,{color:"dark",style:{marginTop:"2rem"},block:!0},"Register"))))))}}var F=Object(o.b)(e=>({isAuthenticated:e.auth.isAuthenticated,error:e.error}),{register:({name:e,email:t,password:a})=>l=>{var n=JSON.stringify({name:e,email:t,password:a});u.a.post("/api/users",n,{headers:{"Content-Type":"application/json"}}).then(e=>l({type:"REGISTER_SUCCESS",payload:e.data})).catch(e=>{l(E(e.response.data,e.response.status,"REGISTER_FAIL")),l({type:"REGISTER_FAIL"})})},clearErrors:h})(D);class G extends l.Component{constructor(...e){super(...e),this.state={modal:!1,email:"",password:"",msg:null},this.toggle=()=>{this.props.clearErrors(),this.setState({modal:!this.state.modal})},this.onChange=e=>{this.setState({[e.target.name]:e.target.value})},this.onSubmit=e=>{e.preventDefault();var t=this.state,a={email:t.email,password:t.password};this.props.login(a)}}componentDidUpdate(e){var t=this.props,a=t.error,l=t.isAuthenticated;a!==e.error&&("LOGIN_FAIL"===a.id?this.setState({msg:a.msg.msg}):this.setState({msg:null})),this.state.modal&&l&&this.toggle()}render(){return n.a.createElement(n.a.Fragment,null,n.a.createElement(O.a,{onClick:this.toggle,href:"#",className:"login-modal"},"Log in"),n.a.createElement(k.a,{isOpen:this.state.modal,toggle:this.toggle},n.a.createElement(I.a,{toggle:this.toggle},"Log in"),n.a.createElement(T.a,null,this.state.msg?n.a.createElement(A.a,{color:"danger"},this.state.msg):null,n.a.createElement(R.a,{onSubmit:this.onSubmit},n.a.createElement(w.a,null,n.a.createElement(R.a.Field,{control:V.a,icon:"user",iconPosition:"left",label:"Username",placeholder:"Username",type:"email",name:"email",id:"email",onChange:this.onChange,required:!0}),n.a.createElement(R.a.Field,{control:V.a,icon:"lock",iconPosition:"left",label:"Password",type:"password",name:"password",id:"password",placeholder:"Password",onChange:this.onChange,required:!0}),n.a.createElement(L.a,{color:"dark",style:{marginTop:"2rem"},block:!0},"Login"))))))}}var P=Object(o.b)(e=>({isAuthenticated:e.auth.isAuthenticated,error:e.error}),{login:({email:e,password:t})=>a=>{var l=JSON.stringify({email:e,password:t});u.a.post("/api/auth",l,{headers:{"Content-Type":"application/json"}}).then(e=>a({type:"LOGIN_SUCCESS",payload:e.data})).catch(e=>{a(E(e.response.data,e.response.status,"LOGIN_FAIL")),a({type:"LOGIN_FAIL"})})},clearErrors:h})(G);class q extends l.Component{render(){return n.a.createElement(l.Fragment,null,n.a.createElement(O.a,{onClick:this.props.logout,href:"#"},"Logout"))}}var M=Object(o.b)(null,{logout:()=>({type:"LOGOUT_SUCCESS"})})(q),U=Object(m.g)(e=>{var t=Object(o.d)(e=>e),a=t.auth.user,r=t.auth,c=t.cartItems;Object(l.useEffect)(()=>{},[]);var s=Object(l.useState)(!1),m=Object(v.a)(s,2),i=m[0],u=m[1],d=n.a.createElement(l.Fragment,null,n.a.createElement(y.a,null,n.a.createElement("span",{className:"navbar-text mr-3",onClick:()=>e.history.push("/")},n.a.createElement("strong",null,a?"Welcome ".concat(a.name):""))),n.a.createElement(y.a,null,n.a.createElement(O.a,{onClick:()=>e.history.push("/dashboard")},"Transactions")),n.a.createElement(O.a,{onClick:()=>e.history.push("/cart")},n.a.createElement("i",{className:"fa fa-shopping-cart"},"Cart",c.cart.length>0&&"(".concat((()=>{if(c.cart.length){var e=c.cart.map(e=>e.item_quantity);return e=e.reduce((e,t)=>e+t)}})(),"):")," ",(()=>{if(c.cart.length){var e=c.cart.map(e=>e.item_total);e=e.reduce((e,t)=>e+t);var t=Math.round(100*e)/100;return n.a.createElement("i",{style:{color:"coral"}}," Subtotal: $",t)}})())),n.a.createElement(y.a,null,n.a.createElement(M,null))),E=n.a.createElement(l.Fragment,null,n.a.createElement(y.a,null,n.a.createElement(F,null)),n.a.createElement(y.a,{style:{marginLeft:".5rem"}},n.a.createElement(P,null)));return n.a.createElement("div",null,n.a.createElement(f.a,{color:"dark",dark:!0,expand:"sm",className:"mb-5"},n.a.createElement(j.a,null,n.a.createElement(C.a,{href:"/"},"Express Inventory"),n.a.createElement(S.a,{onClick:()=>u(!i)}),n.a.createElement(N.a,{isOpen:t.isOpen,navbar:!0},n.a.createElement(x.a,{className:"ml-auto",navbar:!0},r.isAuthenticated?d:E)))))}),B=a(269),z=a(265),H=a(262),$=a(266),Y=a(285),X=a(280),Q=a(23),W=a.n(Q),J=a(260),K=a(261),Z=a(263),ee=a(264),te=Object(m.g)(e=>{var t=Object(o.d)(e=>e),a=Object(o.c)(),r=Object(l.useState)(!1),c=Object(v.a)(r,2),s=c[0],m=c[1],i=()=>{m(e=>!e)},d=Object(l.useState)({item_type:"part",item_name:"",item_number:"",item_desc:"",item_price:"99.99",item_quantity:"1",item_image:"https://contentinfo.autozone.com/znetcs/product-info/es/MX/rch/RS999935/image/10/"}),h=Object(v.a)(d,2),g=h[0],_=(h[1],Object(l.useState)(g.item_type)),b=Object(v.a)(_,2),y=b[0],O=b[1],f=Object(l.useState)(g.item_name),j=Object(v.a)(f,2),C=j[0],S=j[1],N=Object(l.useState)(g.item_number),x=Object(v.a)(N,2),R=x[0],V=x[1],D=Object(l.useState)(g.item_desc),F=Object(v.a)(D,2),G=F[0],P=F[1],q=Object(l.useState)(g.item_price),M=Object(v.a)(q,2),U=M[0],B=M[1],z=Object(l.useState)(g.item_quantity),$=Object(v.a)(z,2),Y=$[0],X=$[1],Q=Object(l.useState)(g.item_image),W=Object(v.a)(Q,2),te=W[0],ae=W[1],le=e=>{e.preventDefault(),a((e=>(t,a)=>{t(e=>{e({type:"ITEMS_LOADING"})}),u.a.post("/api/items",e,p(a)).then(e=>t({type:"ADD_ITEM",payload:e.data})).catch(e=>t(E(e.response.data,e.response.status)))})({item_type:y,item_name:C,item_number:R,item_desc:G,item_price:U,item_quantity:Y,item_image:te}))};return Object(l.useEffect)(()=>{O("part"),S(""),V(""),P(""),B("99"),X("1"),ae("https://contentinfo.autozone.com/znetcs/product-info/es/MX/rch/RS999935/image/10/"),m(!1)},[t.items.items.length]),Object(l.useEffect)(()=>{},[t.errors]),n.a.createElement(l.Suspense,{fallback:n.a.createElement(J.a,{color:"dark"})},n.a.createElement(n.a.Fragment,null,n.a.createElement(L.a,{className:"btn-block",color:"dark",style:{marginBottom:"2rem",padding:".6rem"},onClick:()=>i()},"Add New Item"),n.a.createElement(k.a,{isOpen:s,toggle:()=>i()},n.a.createElement(I.a,{toggle:()=>i()},"Add New Item"),n.a.createElement(T.a,null,null!==t.error.msg&&n.a.createElement(A.a,{color:"danger"},t.error.msg.msg),n.a.createElement("div",{className:"container",style:{margin:".2rem"}},n.a.createElement("div",{className:"form-group edit-container-form"},n.a.createElement(K.a,{onSubmit:e=>le(e)},n.a.createElement(w.a,null,n.a.createElement("h2",{className:"edit-header"},C),n.a.createElement(H.a,null,n.a.createElement("h5",null,"Type of Item"),n.a.createElement(Z.a,{size:"sm"},n.a.createElement(L.a,{onClick:()=>O("part"),style:"part"===y?{backgroundColor:"coral"}:{}},"Part"),n.a.createElement(L.a,{onClick:()=>O("service"),style:"service"===y?{backgroundColor:"coral"}:{}},"Service")),n.a.createElement("h5",null,"Name"),n.a.createElement(ee.a,{required:!0,className:" form-control col-xs-2",placeholder:"Enter Item name",value:"".concat(C),onChange:e=>S(e.target.value)}),n.a.createElement("h5",null,"Item Number"),n.a.createElement(ee.a,{className:" form-control col-xs-2",placeholder:"Enter Item number",value:"".concat(R),onChange:e=>V(e.target.value)}),n.a.createElement("h5",null,"Description"),n.a.createElement(ee.a,{className:" form-control col-xs-2",placeholder:"Enter Item description",value:"".concat(G),onChange:e=>P(e.target.value)}),n.a.createElement("h5",null,"Price"),n.a.createElement(ee.a,{className:" form-control col-xs-2",placeholder:"Enter Item price",type:"text",value:"".concat(U),onChange:e=>B(e.target.value)}),n.a.createElement("h5",null,"Quantity"),n.a.createElement(ee.a,{type:"text",name:"quantity",id:"quantity",value:Y,placeholder:"Add quantity",onChange:e=>X(e.target.value),required:!0}),n.a.createElement("h5",null,"Image"),n.a.createElement(ee.a,{className:" form-control col-xs-2",placeholder:"Enter Item image",value:"".concat(te),onChange:e=>ae(e.target.value)}),n.a.createElement("br",null)),n.a.createElement(L.a,{color:"dark",style:{marginTop:"2rem"},block:!0},"Add Item")))),n.a.createElement("div",{className:"edit-container-img"},n.a.createElement("img",{src:"".concat(te),alt:C,width:"300px",height:"300px"})))))))}),ae=()=>(e,t)=>{e(e=>{e({type:"VEHICLES_LOADING"})}),u.a.get("/api/vehicles",p(t)).then(t=>{e({type:"GET_VEHICLES",payload:t.data})}).catch(t=>e(E(t.response.data,t.response.status)))},le=Object(m.g)(e=>{var t=Object(o.d)(e=>e),a=Object(o.c)(),r=Object(l.useState)(!1),c=Object(v.a)(r,2),s=c[0],m=c[1],i=()=>{m(e=>!e)},d=Object(l.useState)({vehicle_type:"van",vehicle_name:"",vehicle_number:"",vehicle_make:"",vehicle_model:"",vehicle_year:"",vehicle_mileage:"",vehicle_state:"",vehicle_desc:"",vehicle_image:"https://shop.ford.com/content/dam/shop_ford/en_us/common/resources/common/nameplate/2020/explorer/assetChoosePathLeft.png"}),h=Object(v.a)(d,2),g=h[0],_=(h[1],Object(l.useState)(g.vehicle_type)),b=Object(v.a)(_,2),y=b[0],O=b[1],f=Object(l.useState)(g.vehicle_name),j=Object(v.a)(f,2),C=j[0],S=j[1],N=Object(l.useState)(g.vehicle_number),x=Object(v.a)(N,2),R=x[0],V=x[1],D=Object(l.useState)(g.vehicle_make),F=Object(v.a)(D,2),G=F[0],P=F[1],q=Object(l.useState)(g.vehicle_model),M=Object(v.a)(q,2),U=M[0],B=M[1],z=Object(l.useState)(g.vehicle_year),$=Object(v.a)(z,2),Y=$[0],X=$[1],Q=Object(l.useState)(g.vehicle_mileage),W=Object(v.a)(Q,2),te=W[0],ae=W[1],le=Object(l.useState)(g.vehicle_state),ne=Object(v.a)(le,2),re=ne[0],ce=ne[1],se=Object(l.useState)(g.vehicle_desc),me=Object(v.a)(se,2),oe=me[0],ie=me[1],ue=Object(l.useState)(g.vehicle_image),de=Object(v.a)(ue,2),Ee=de[0],he=de[1],pe=e=>{var t;e.preventDefault(),a((t={vehicle_type:y,vehicle_name:C,vehicle_number:R,vehicle_make:G,vehicle_model:U,vehicle_year:Y,vehicle_mileage:te,vehicle_state:re,vehicle_desc:oe,vehicle_image:Ee},(e,a)=>{e(e=>{e({type:"VEHICLES_LOADING"})}),u.a.post("/api/vehicles",t,p(a)).then(t=>e({type:"ADD_VEHICLE",payload:t.data})).catch(t=>e(E(t.response.data,t.response.status)))}))};return Object(l.useEffect)(()=>{O("van"),S(""),V(""),P(""),B(""),X(""),ae(""),ce("MA"),ie(""),he("https://shop.ford.com/content/dam/shop_ford/en_us/common/resources/common/nameplate/2020/explorer/assetChoosePathLeft.png"),m(!1)},[t.vehicles.vehicles.length]),Object(l.useEffect)(()=>{},[t.errors]),n.a.createElement(l.Suspense,{fallback:n.a.createElement(J.a,{color:"dark"})},n.a.createElement(n.a.Fragment,null,n.a.createElement(L.a,{className:"btn-block",color:"dark",style:{marginBottom:"2rem",padding:".6rem"},onClick:()=>i()},"Add New Vehicle"),n.a.createElement(k.a,{isOpen:s,toggle:()=>i()},n.a.createElement(I.a,{toggle:()=>i()},"Add New Vehicle"),n.a.createElement(T.a,null,null!==t.error.msg&&n.a.createElement(A.a,{color:"danger"},t.error.msg.msg),n.a.createElement("div",{className:"container",style:{margin:".2rem"}},n.a.createElement("div",{className:"form-group edit-container-form"},n.a.createElement(K.a,{onSubmit:e=>pe(e)},n.a.createElement(w.a,null,n.a.createElement("h2",{className:"edit-header"},C),n.a.createElement(H.a,null,n.a.createElement("h5",null,"Type of Vehicle"),n.a.createElement(Z.a,{size:"sm"},n.a.createElement(L.a,{onClick:()=>O("van"),style:"van"===y?{backgroundColor:"coral"}:{}},"Van"),n.a.createElement(L.a,{onClick:()=>O("car"),style:"car"===y?{backgroundColor:"coral"}:{}},"Car"),n.a.createElement(L.a,{onClick:()=>O("bus"),style:"bus"===y?{backgroundColor:"coral"}:{}},"Bus")),n.a.createElement("h5",null,"Vehicle Name"),n.a.createElement(ee.a,{required:!0,className:" form-control col-xs-2",placeholder:"Enter Vehicle name",value:"".concat(C),onChange:e=>S(e.target.value)}),n.a.createElement("h5",null,"Vehicle Plate"),n.a.createElement(ee.a,{className:" form-control col-xs-2",placeholder:"Enter Vehicle Plate",value:"".concat(R),onChange:e=>V(e.target.value)}),n.a.createElement("h5",null,"Vehicle Make"),n.a.createElement(ee.a,{required:!0,className:" form-control col-xs-2",placeholder:"Enter Vehicle Make",value:"".concat(G),onChange:e=>P(e.target.value)}),n.a.createElement("h5",null,"Vehicle Model"),n.a.createElement(ee.a,{required:!0,className:" form-control col-xs-2",placeholder:"Enter Vehicle Model",value:"".concat(U),onChange:e=>B(e.target.value)}),n.a.createElement("h5",null,"Vehicle Year"),n.a.createElement(ee.a,{required:!0,className:" form-control col-xs-2",placeholder:"Enter Vehicle Year",value:"".concat(Y),onChange:e=>X(e.target.value)}),n.a.createElement("h5",null,"Vehicle Mileage"),n.a.createElement(ee.a,{className:" form-control col-xs-2",placeholder:"Enter Vehicle Mileage",value:"".concat(te),onChange:e=>ae(e.target.value)}),n.a.createElement("h5",null,"Vehicle State"),n.a.createElement(ee.a,{required:!0,className:" form-control col-xs-2",placeholder:"Enter Vehicle State",value:"".concat(re),onChange:e=>ce(e.target.value)}),n.a.createElement("h5",null,"Description"),n.a.createElement(ee.a,{className:" form-control col-xs-2",placeholder:"Enter Vehicle description",value:"".concat(oe),onChange:e=>ie(e.target.value)}),n.a.createElement("h5",null,"Image"),n.a.createElement(ee.a,{className:" form-control col-xs-2",placeholder:"Enter Vehicle image",value:"".concat(Ee),onChange:e=>he(e.target.value)}),n.a.createElement("br",null)),n.a.createElement(L.a,{color:"dark",style:{marginTop:"2rem"},block:!0},"Add Vehicle")))),n.a.createElement("div",{className:"edit-container-img"},n.a.createElement("img",{src:"".concat(Ee),alt:C,width:"300px",height:"300px"})))))))}),ne=Object(m.g)(e=>{var t=Object(o.d)(e=>e),a=t.vehicles,r=t.cartItems,c=r.vehicle?r.vehicle:null,m=Object(o.c)();Object(l.useEffect)(()=>{m(ae())},[]),Object(l.useEffect)(()=>{},[a,c]);var i=e=>{var t;m((t=e,(e,a)=>{e(b()),u.a.post("/api/cart-items/vehicle",t,p(a)).then(t=>{e({type:"SET_CART_VEHICLE",payload:t.data})}).catch(t=>e(E(t.response.data,t.response.status)))}))},d=e=>{if(c&&c._id===e)return!0};return c?n.a.createElement(n.a.Fragment,null,n.a.createElement(l.Suspense,{fallback:n.a.createElement(J.a,{color:"dark"})},n.a.createElement(j.a,{style:{marginTop:"5rem"}},n.a.createElement("h2",null,"Vehicle In Use For the Transaction"),n.a.createElement(z.a,null,n.a.createElement(Y.a,{className:"shopping-list"},n.a.createElement(X.a,{timeout:0,classNames:"fade"},n.a.createElement(H.a,null,n.a.createElement($.a,{hover:!0,responsive:!0,borderless:!0,style:{overflowX:"auto"}},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null),n.a.createElement("th",null,"Vehicle Plate"))),n.a.createElement("tbody",{key:c._id,style:{backgroundColor:null}},n.a.createElement("tr",null,n.a.createElement("th",{scope:"row"},t.auth.isAuthenticated&&n.a.createElement(n.a.Fragment,null,n.a.createElement(s.b,{to:"/cart"},n.a.createElement(L.a,{className:"edit-btn",outline:!0},"Go to Cart")),n.a.createElement(L.a,{className:"edit-btn",outline:!0,onClick:()=>m(g())},"Delete from Cart"))),n.a.createElement("td",null,c.vehicle_number),n.a.createElement("td",null,n.a.createElement("img",{src:"".concat(c.vehicle_image),alt:c.vehicle_name,width:"100px",height:"100px"})))))))))))):n.a.createElement(n.a.Fragment,null,n.a.createElement(l.Suspense,{fallback:n.a.createElement(J.a,{color:"dark"})},n.a.createElement(j.a,{style:{marginTop:"5rem"}},n.a.createElement("h2",null,"Vehicle List"),n.a.createElement(z.a,null,n.a.createElement(Y.a,{className:"shopping-list"},n.a.createElement(X.a,{timeout:0,classNames:"fade"},n.a.createElement(H.a,null,n.a.createElement($.a,{hover:!0,responsive:!0,borderless:!0,style:{overflowX:"auto"}},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null),n.a.createElement("th",null,"Name"),n.a.createElement("th",null,"Plate"))),a.vehicles.length>0&&a.vehicles.map(e=>n.a.createElement("tbody",{key:e._id,style:{backgroundColor:null}},n.a.createElement("tr",null,n.a.createElement("th",{scope:"row"},t.auth.isAuthenticated&&n.a.createElement(n.a.Fragment,null,n.a.createElement(s.b,{to:{pathname:"/vehicle/edit/".concat(e._id),state:{vehicle:e}}},n.a.createElement(L.a,{className:"edit-btn",outline:!0},"View/Edit")),n.a.createElement(L.a,{className:"edit-btn",outline:!0,style:c&&d(e._id)&&{backgroundColor:"coral"},onClick:()=>i(e)},"Use Vehicle"))),n.a.createElement("td",null,e.vehicle_name),n.a.createElement("td",null,e.vehicle_number),n.a.createElement("td",null,n.a.createElement("img",{src:"".concat(e.vehicle_image),alt:e.vehicle_name,width:"100px",height:"100px"}))))))))))),n.a.createElement(le,null)))}),re=e=>{var t=Object(o.c)(),a=Object(o.d)(e=>e);Object(l.useEffect)(()=>{t((e,t)=>{e(e=>{e({type:"ITEMS_LOADING"})}),u.a.get("/api/items",p(t)).then(t=>{e({type:"GET_ITEMS",payload:t.data})}).catch(t=>e(E(t.response.data,t.response.status)))})},[]),Object(l.useEffect)(()=>{},[a]);var r=a.items.items,c=e.cart?e.cart:a.cartItems.cart;return r.length?n.a.createElement(n.a.Fragment,null,n.a.createElement(ne,null),n.a.createElement(j.a,{style:{marginTop:"5rem"}},n.a.createElement("h2",null,"Available Parts & Services"),n.a.createElement(z.a,null,n.a.createElement(Y.a,{className:"shopping-list"},n.a.createElement(X.a,{timeout:0,classNames:"fade"},n.a.createElement(H.a,null,n.a.createElement($.a,{hover:!0,responsive:!0,borderless:!0,style:{overflowX:"auto"}},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null),n.a.createElement("th",null,"Name"),n.a.createElement("th",null,"Description"),n.a.createElement("th",null,"Price"),n.a.createElement("th",null,"Quantity"))),r.length>0&&r.map(e=>n.a.createElement("tbody",{key:e._id,bgcolor:e.item_quantity<=0?"coral":"white",style:{backgroundColor:null}},n.a.createElement("tr",null,n.a.createElement("th",{scope:"row"},a.auth.isAuthenticated&&n.a.createElement(n.a.Fragment,null,n.a.createElement(s.b,{to:{pathname:"/item/edit/".concat(e._id),state:{item:e}}},n.a.createElement(L.a,{className:"edit-btn",outline:!0},"View/Edit")),n.a.createElement(L.a,{className:"edit-btn",outline:!0,onClick:()=>{e.item_quantity<=0?W.a.fire({title:"item not available!",text:"Order more copies.",icon:"warning",footer:'<a href="/cart">Go to cart</a>'}):(e=>{if(!c.length)return!0;var t=c.filter(t=>t._id===e._id);if(0===t.length)return!0;var a=r.filter(t=>t._id===e._id);return!(t[0].item_quantity+1>a[0].item_quantity)||(W.a.fire({title:"Could not add more items",text:"There are not enough items in stock to complete your order",icon:"error",confirmButtonColor:"#3085d6",footer:'<a href="/items">Check inventory</a>'}),!1)})(e)&&t(_(e))}},"Add to Cart"))),n.a.createElement("td",null,e.item_name),n.a.createElement("td",null,e.item_desc),n.a.createElement("td",null,e.item_price),n.a.createElement("td",null,e.item_quantity)))))))))),n.a.createElement(te,null),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("br",null)):n.a.createElement(n.a.Fragment,null,n.a.createElement(j.a,null,n.a.createElement("h2",null,"You have no Items!"),n.a.createElement("h6",null,"Add a Items to your list.")))},ce=a(55),se=a.n(ce),me=a(88),oe=Object(m.g)(e=>{var t=Object(o.c)(),a=Object(o.d)(e=>e),r=e.match.params.id,c=Object(l.useState)({item_type:"l",item_name:"l",item_number:"l",item_desc:"l",item_price:"l",item_quantity:"l",item_image:"l",_id:"l"}),s=Object(v.a)(c,2),m=s[0],i=s[1],d=Object(l.useState)(m.item_type),h=Object(v.a)(d,2),g=h[0],_=h[1],b=Object(l.useState)(m.name),y=Object(v.a)(b,2),O=y[0],f=y[1],j=Object(l.useState)(m.item_number),C=Object(v.a)(j,2),S=C[0],N=C[1],x=Object(l.useState)(m.item_desc),k=Object(v.a)(x,2),I=k[0],T=k[1],w=Object(l.useState)(m.item_price),R=Object(v.a)(w,2),V=R[0],D=R[1],F=Object(l.useState)(m.item_quantity),G=Object(v.a)(F,2),P=G[0],q=G[1],M=Object(l.useState)(m.item_image),U=Object(v.a)(M,2),B=U[0],z=U[1],$=Object(l.useState)(m._id),Y=Object(v.a)($,2),X=Y[0],Q=Y[1];Object(l.useEffect)(()=>{function e(){return(e=Object(me.a)(se.a.mark((function e(){var t;return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u()("/api/items/single/".concat(r));case 2:if(null===(t=e.sent).data){e.next=22;break}return e.next=6,i(t.data);case 6:return e.next=8,_(m.item_type);case 8:return e.next=10,f(m.item_name);case 10:return e.next=12,N(m.item_number);case 12:return e.next=14,T(m.item_desc);case 14:return e.next=16,D(m.item_price);case 16:return e.next=18,q(m.item_quantity);case 18:return e.next=20,z(m.item_image);case 20:return e.next=22,Q(m._id);case 22:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()},[m.item_type,m.item_name,m.item_number,m.item_desc,m.item_price,m.item_quantity,m.item_image]);var K=(e,a)=>{W.a.fire({title:"Are you sure?",text:"Do you want to update this item?",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, update it!"}).then(e=>{e.value&&t((e=>(t,a)=>{t(e=>{e({type:"ITEMS_LOADING"})}),u.a.put("/api/items/edit/".concat(e.id),e,p(a)).then(e=>{t({type:"EDIT_ITEM",payload:e.data}),t({type:"CLEAR_ERRORS"})}).catch(e=>t(E(e.response.data,e.response.status)))})({id:a,item:{item_type:g,item_name:O,item_number:S,item_desc:I,item_price:V,item_quantity:P,item_image:B}}))})},Z=(a,l)=>{W.a.fire({title:"Are you sure?",text:"Do you want to delete item permanently?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, remove it!"}).then(a=>{var l;a.value?(t((l=X,(e,t)=>{u.a.delete("/api/items/delete/".concat(l),p(t)).then(t=>e({type:"DELETE_ITEM",payload:l})).catch(t=>e(E(t.response.data,t.response.status)))})),e.history.push("/")):W.a.fire({title:"Please contact admin",text:"Deleting item was not allowed.",icon:"error",confirmButtonColor:"#3085d6"})})};return Object(l.useEffect)(()=>{},[a.error]),r&&m._id===r?n.a.createElement(l.Suspense,{fallback:n.a.createElement(J.a,{color:"dark"})},n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"edit-container",style:{margin:"3rem"}},n.a.createElement("div",{className:"form-group edit-container-form"},null!==a.error.msg&&n.a.createElement(A.a,{color:"danger"},a.error.msg.msg),n.a.createElement("h2",{className:"edit-header"},O),n.a.createElement(H.a,null,n.a.createElement("h5",null,"Type of Item"),n.a.createElement(ee.a,{type:"select",className:" form-control col-xs-2",placeholder:"update Item Type",value:"".concat(g),onChange:e=>_(e.target.value)},n.a.createElement("option",null,"part"),n.a.createElement("option",null,"service")),n.a.createElement("h5",null,"Item Name"),n.a.createElement(ee.a,{className:" form-control col-xs-2",placeholder:"update Item Name",value:"".concat(O),onChange:e=>f(e.target.value)}),n.a.createElement("h5",null,"Item Number"),n.a.createElement(ee.a,{className:" form-control col-xs-2",placeholder:"update Item Name",value:"".concat(S),onChange:e=>N(e.target.value)}),n.a.createElement("h5",null,"Description"),n.a.createElement(ee.a,{className:" form-control col-xs-2",placeholder:"update Item description",value:"".concat(I),onChange:e=>T(e.target.value)}),n.a.createElement("h5",null,"Price"),n.a.createElement(ee.a,{className:" form-control col-xs-2",placeholder:"update Item price",type:"text",value:"".concat(V),onChange:e=>D(e.target.value)}),n.a.createElement("h5",null,"Quantity"),n.a.createElement("button",{className:"minus btn btn-info outline",onClick:e=>q(e=>e-1)},"-"),n.a.createElement("input",{type:"text",value:"".concat(P),readOnly:!0}),n.a.createElement("button",{className:"plus btn btn-info outline",onClick:e=>q(e=>e+1)},"+"),n.a.createElement("h5",null,"Image"),n.a.createElement(ee.a,{className:" form-control col-xs-2",placeholder:"update Item image",value:"".concat(B),onChange:e=>z(e.target.value)}),n.a.createElement("br",null),n.a.createElement(L.a,{color:"secondary",outline:!0,size:"sm",onClick:e=>K(0,m._id)},"Update Item"),n.a.createElement(L.a,{color:"secondary",outline:!0,size:"sm",onClick:e=>Z(0,m._id)},"Delete Item"))),n.a.createElement("div",{className:"edit-container-img"},n.a.createElement("img",{src:"".concat(B),alt:O,width:"300px",height:"300px"}),n.a.createElement("div",{className:"edit-container-link",style:{marginTop:"1rem"}},n.a.createElement(L.a,{color:"dark",href:"/",block:!0},"Go Back to Item List")))))):n.a.createElement(l.Suspense,{fallback:n.a.createElement(J.a,{color:"dark"})},n.a.createElement(J.a,{color:"dark"}))}),ie=Object(m.g)(e=>{var t=Object(o.c)(),a=Object(o.d)(e=>e),r=e.match.params.id,c=Object(l.useState)({vehicle_type:"van",vehicle_name:"SUV Roja",vehicle_number:"342dk",vehicle_make:"Ford",vehicle_model:"Explorer",vehicle_year:"2020",vehicle_mileage:"1000",vehicle_state:"MA",vehicle_desc:"Explorer Roja",vehicle_image:"https://shop.ford.com/content/dam/shop_ford/en_us/common/resources/common/nameplate/2020/explorer/assetChoosePathLeft.png"}),s=Object(v.a)(c,2),m=s[0],i=s[1],d=Object(l.useState)(m.vehicle_type),h=Object(v.a)(d,2),g=h[0],_=h[1],b=Object(l.useState)(m.vehicle_name),y=Object(v.a)(b,2),O=y[0],f=y[1],j=Object(l.useState)(m.vehicle_number),C=Object(v.a)(j,2),S=C[0],N=C[1],x=Object(l.useState)(m.vehicle_make),k=Object(v.a)(x,2),I=k[0],T=k[1],w=Object(l.useState)(m.vehicle_model),R=Object(v.a)(w,2),V=R[0],D=R[1],F=Object(l.useState)(m.vehicle_year),G=Object(v.a)(F,2),P=G[0],q=G[1],M=Object(l.useState)(m.vehicle_mileage),U=Object(v.a)(M,2),B=U[0],z=U[1],$=Object(l.useState)(m.vehicle_state),Y=Object(v.a)($,2),X=Y[0],Q=Y[1],K=Object(l.useState)(m.vehicle_desc),te=Object(v.a)(K,2),ae=te[0],le=te[1],ne=Object(l.useState)(m.vehicle_image),re=Object(v.a)(ne,2),ce=re[0],oe=re[1];Object(l.useEffect)(()=>{function e(){return(e=Object(me.a)(se.a.mark((function e(){var t;return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u()("/api/vehicles/single/".concat(r));case 2:if(null===(t=e.sent).data){e.next=26;break}return e.next=6,i(t.data);case 6:return e.next=8,_(m.vehicle_type);case 8:return e.next=10,f(m.vehicle_name);case 10:return e.next=12,N(m.vehicle_number);case 12:return e.next=14,T(m.vehicle_make);case 14:return e.next=16,D(m.vehicle_model);case 16:return e.next=18,q(m.vehicle_year);case 18:return e.next=20,z(m.vehicle_mileage);case 20:return e.next=22,Q(m.vehicle_state);case 22:return e.next=24,le(m.vehicle_desc);case 24:return e.next=26,oe(m.vehicle_image);case 26:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()},[m.vehicle_type,m.vehicle_name,m.vehicle_number,m.vehicle_make,m.vehicle_model,m.vehicle_year,m.vehicle_mileage,m.vehicle_state,m.vehicle_desc,m.vehicle_image]);var ie=(e,a)=>{W.a.fire({title:"Are you sure?",text:"Do you want to update this vehicle?",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, update it!"}).then(e=>{var l;e.value&&t((l={id:a,vehicle:{vehicle_type:g,vehicle_name:O,vehicle_number:S,vehicle_make:I,vehicle_model:V,vehicle_year:P,vehicle_mileage:B,vehicle_state:X,vehicle_desc:ae,vehicle_image:ce}},(e,t)=>{e(e=>{e({type:"VEHICLES_LOADING"})}),u.a.put("/api/vehicles/update/".concat(l.id),l,p(t)).then(t=>{e({type:"EDIT_VEHICLE",payload:t.data}),e({type:"CLEAR_ERRORS"})}).catch(t=>e(E(t.response.data,t.response.status)))}))})},ue=(a,l)=>{W.a.fire({title:"Are you sure?",text:"Do you want to delete Vehicle permanently?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, remove it!"}).then(a=>{var l;a.value?(t((l=r,(e,t)=>{u.a.delete("/api/vehicles/delete/".concat(l),p(t)).then(t=>e({type:"DELETE_VEHICLE",payload:l})).catch(t=>e(E(t.response.data,t.response.status)))})),e.history.push("/")):W.a.fire({title:"Please contact admin",text:"Deleting item was not allowed.",icon:"error",confirmButtonColor:"#3085d6"})})};return Object(l.useEffect)(()=>{},[a.error]),r&&m._id===r?n.a.createElement(l.Suspense,{fallback:n.a.createElement(J.a,{color:"dark"})},n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"edit-container",style:{margin:"3rem"}},n.a.createElement("div",{className:"form-group edit-container-form"},null!==a.error.msg&&n.a.createElement(A.a,{color:"danger"},a.error.msg.msg),n.a.createElement("h2",{className:"edit-header"},O),n.a.createElement(H.a,null,n.a.createElement("h5",null,"Type of Vehicle"),n.a.createElement(Z.a,{size:"sm"},n.a.createElement(L.a,{onClick:()=>_("van"),style:"van"===g?{backgroundColor:"coral"}:{}},"Van"),n.a.createElement(L.a,{onClick:()=>_("car"),style:"car"===g?{backgroundColor:"coral"}:{}},"Car"),n.a.createElement(L.a,{onClick:()=>_("bus"),style:"bus"===g?{backgroundColor:"coral"}:{}},"Bus")),n.a.createElement("h5",null,"Vehicle Name"),n.a.createElement(ee.a,{required:!0,className:" form-control col-xs-2",placeholder:"Update Vehicle Name",value:"".concat(O),onChange:e=>f(e.target.value)}),n.a.createElement("h5",null,"Vehicle Plate"),n.a.createElement(ee.a,{className:" form-control col-xs-2",placeholder:"Update Vehicle Plate",value:"".concat(S),onChange:e=>N(e.target.value)}),n.a.createElement("h5",null,"Vehicle Make"),n.a.createElement(ee.a,{required:!0,className:" form-control col-xs-2",placeholder:"Update Vehicle Make",value:"".concat(I),onChange:e=>T(e.target.value)}),n.a.createElement("h5",null,"Vehicle Model"),n.a.createElement(ee.a,{required:!0,className:" form-control col-xs-2",placeholder:"Update Vehicle Model",value:"".concat(V),onChange:e=>D(e.target.value)}),n.a.createElement("h5",null,"Vehicle Year"),n.a.createElement(ee.a,{required:!0,className:" form-control col-xs-2",placeholder:"Update Vehicle Year",value:"".concat(P),onChange:e=>q(e.target.value)}),n.a.createElement("h5",null,"Vehicle Mileage"),n.a.createElement(ee.a,{className:" form-control col-xs-2",placeholder:"Update Vehicle Mileage",value:"".concat(B),onChange:e=>z(e.target.value)}),n.a.createElement("h5",null,"Vehicle State"),n.a.createElement(ee.a,{required:!0,className:" form-control col-xs-2",placeholder:"Update Vehicle State",value:"".concat(X),onChange:e=>Q(e.target.value)}),n.a.createElement("h5",null,"Description"),n.a.createElement(ee.a,{className:" form-control col-xs-2",placeholder:"update Vehicle description",value:"".concat(ae),onChange:e=>le(e.target.value)}),n.a.createElement("h5",null,"Image"),n.a.createElement(ee.a,{required:!0,className:" form-control col-xs-2",placeholder:"update Vehicle image",value:"".concat(ce),onChange:e=>oe(e.target.value)}),n.a.createElement("br",null),n.a.createElement(L.a,{color:"secondary",outline:!0,size:"sm",onClick:e=>ie(0,m._id)},"Update Vehicle"),n.a.createElement(L.a,{color:"secondary",outline:!0,size:"sm",onClick:e=>ue(0,m._id)},"Delete Vehicle"))),n.a.createElement("div",{className:"edit-container-img"},n.a.createElement("img",{src:"".concat(ce),alt:O,width:"300px",height:"300px"}),n.a.createElement("div",{className:"edit-container-link",style:{marginTop:"1rem"}},n.a.createElement(L.a,{color:"dark",href:"/",block:!0},"Go Back to Vehicle List")))))):n.a.createElement(l.Suspense,{fallback:n.a.createElement(J.a,{color:"dark"})},n.a.createElement(J.a,{color:"dark"}))}),ue=a(267),de=a(268),Ee=a(282),he=a(287),pe=e=>{if(e.length){var t=e.map(e=>e.item_total);return t=t.reduce((e,t)=>e+t),Math.round(100*t)/100}},ge=a(10),_e=e=>{var t=Object(l.useState)(e),a=Object(v.a)(t,2),n=a[0],r=a[1];return[n,e=>{r(Object(ge.a)(Object(ge.a)({},n),{},{[e.target.name]:e.target.value}))}]},be=e=>(t,a)=>{console.log(e),t(ve()),u.a.post("/api/item-checkout",e,p(a)).then(e=>t({type:"POST_TRANSACTION",payload:e.data})).then(e=>{t({type:"DELETE_CART_VEHICLE",payload:[]}),t({type:"EMPTY_CART",payload:[]})}).catch(e=>{W.a.fire({title:"Could not complete Transaction",text:e.response.data.msg,icon:"error",confirmButtonColor:"#3085d6",footer:'<a href="/">Check inventory</a>'}),t(E(e.response.data,e.response.status))})},ve=()=>e=>e({type:"SET_CHECKOUT_LOADING"}),ye=Object(m.g)(e=>{Object(m.f)();var t=Object(o.c)(),a=(Object(o.d)(e=>e),Object(o.d)(e=>e.cartItems)),r=a.cart,c=a.vehicle?a.vehicle:null,s=Object(l.useState)("internal"),i=Object(v.a)(s,2),u=i[0],d=i[1],E=Object(l.useState)(!1),h=Object(v.a)(E,2),p=h[0],g=h[1],_=Object(l.useState)(0),b=Object(v.a)(_,2),y=b[0],O=b[1],f=(e,t=.0625)=>"internal"===u?0:p?Math.round((e-y)*t*100)/100:Math.round(e*t*100)/100,C=_e({name:"",phone:"",email:"",operator:"",type:"",amountReceived:"",message:"",percentage:0}),S=Object(v.a)(C,2),N=S[0],x=S[1];Object(l.useEffect)(()=>{},[u]);var k=(e,a,l,n,r,c,s=!1,m=0,o=0,i=0)=>{e.preventDefault(),function(){var e=Object(me.a)(se.a.mark((function e(){return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(pe(r)){e.next=5;break}return W.a.fire("No customer information","Please enter all the customer's info.","error"),e.abrupt("return");case 5:if(e.prev=5,"internal"!==a){e.next=11;break}return e.next=9,t(be({transaction:{transac_type:a,transac_operator:l.operator,transac_customer:{},transac_vehicle:n,transac_items:r,sale_transac:s,transac_subtotal:c,transac_discount:0,transac_taxes:0,transac_total:c,amount_received:0,transac_message:l.message}}));case 9:e.next=14;break;case 11:if("external"!==a){e.next=14;break}return e.next=14,t(be({transaction:{transac_type:a,transac_operator:l.operator,transac_customer:{name:l.name,phone:l.phone,email:l.email},transac_vehicle:n,transac_items:r,sale_transac:s,transac_subtotal:c,transac_discount:y,transac_taxes:o,transac_total:i,amount_received:l.amountReceived,transac_message:l.message}}));case 14:window.location.replace("/dashboard"),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(5),console.log(e.t0);case 20:case"end":return e.stop()}}),e,null,[[5,17]])})));return function(){return e.apply(this,arguments)}}()()};return n.a.createElement(n.a.Fragment,null,n.a.createElement(j.a,{style:{marginTop:"5rem",padding:"2rem",justifyContent:"center",alignContent:"center",alignItems:"center"}},n.a.createElement(ue.a,{xs:"12"},n.a.createElement("h4",null,"Checkout"),n.a.createElement(K.a,{onSubmit:e=>{"external"===u?k(e,u,N,c,r,pe(r),p,y,f(pe(r)),(pe(r)+f(pe(r))).toFixed(2)):k(e,u,N,c,r,pe(r))},style:{marginTop:"2rem"}},n.a.createElement(w.a,null,n.a.createElement("section",{style:{border:"1px solid #ccc",borderRadius:"5px",marginBottom:"20px",padding:"2rem"}},n.a.createElement(de.a,{for:"newType"},"Type of Transaction"),n.a.createElement("br",null),n.a.createElement(Z.a,{size:"sm"},n.a.createElement(L.a,{onClick:()=>d("internal"),style:"internal"===u?{backgroundColor:"coral"}:{}},"Internal"),n.a.createElement(L.a,{onClick:()=>d("external"),style:"external"===u?{backgroundColor:"coral"}:{}},"External")),n.a.createElement("br",null),n.a.createElement("br",null),"external"===u&&n.a.createElement(n.a.Fragment,null,n.a.createElement(de.a,{for:"name"},"Customer Full Name"),n.a.createElement(ee.a,{type:"text",name:"name",id:"name",placeholder:"Full Name",className:"mb-3",value:N.name,onChange:x}),n.a.createElement(de.a,{for:"email"},"Email"),n.a.createElement(ee.a,{type:"email",name:"email",id:"email",placeholder:"Email",className:"mb-3",value:N.email,onChange:x}),n.a.createElement(de.a,{for:"phone"},"Phone Number"),n.a.createElement(ee.a,{type:"phone",name:"phone",id:"phone",placeholder:"Phone Number",className:"mb-3",value:N.phone,onChange:x}),n.a.createElement(de.a,{for:"amountReceived"},"Amount Received"),n.a.createElement(ee.a,{type:"number",name:"amountReceived",id:"amountReceived",placeholder:"Amount Received from customer",className:"mb-3",value:N.amountReceived,onChange:x,required:!0})),n.a.createElement(de.a,{for:"message"},"Message"),n.a.createElement(ee.a,{type:"textarea",name:"message",id:"message",placeholder:"Do you need to leave a message?",className:"mb-3",value:N.message,onChange:x}),n.a.createElement(de.a,{for:"operator"},"Operator"),n.a.createElement(ee.a,{type:"operator",name:"operator",id:"operator",placeholder:"Operator's name",className:"mb-3",value:N.operator,onChange:x,required:!0}),"external"===u&&n.a.createElement(Ee.a,{compact:!0},n.a.createElement(he.a,{toggle:!0,checked:p,onChange:()=>g(!p),label:"Apply Discount"}),p&&n.a.createElement(n.a.Fragment,null,n.a.createElement("span",{className:"form-inline"},n.a.createElement(w.a,{className:"mb-2 mr-sm-2 mb-sm-0"},n.a.createElement(de.a,{for:"Discount",className:"mr-sm-2"},"Discount %"),n.a.createElement(ee.a,{type:"percentage",name:"percentage",id:"percentage",placeholder:"Enter percentage",value:N.percentage,onChange:x})),n.a.createElement(L.a,{onClick:()=>((e,t=0)=>{"internal"!==u?O(e*(t/100)):O(0)})(pe(r),N.percentage)},"Apply Discount"))))),n.a.createElement(H.a,{style:{float:"right",marginBottom:"1rem"}},"external"===u&&n.a.createElement(n.a.Fragment,null,"Subtotal: ",n.a.createElement("strong",null," $",pe(r)),n.a.createElement("br",null)),"external"===u&&y>0&&p&&n.a.createElement(n.a.Fragment,null,n.a.createElement("span",null,"Discount: ",n.a.createElement("strong",null,n.a.createElement("del",null,"$",y.toFixed(2)))),n.a.createElement("br",null)),"external"===u&&n.a.createElement(n.a.Fragment,null,"Taxes(6.25 %): "," ",n.a.createElement("strong",null," ","$",f(pe(r)))," ",n.a.createElement("br",null),n.a.createElement("hr",null)),"Grand Total: ",n.a.createElement("strong",null," $","internal"===u?pe(r):p?(pe(r)-y+f(pe(r))).toFixed(2):(pe(r)+f(pe(r))).toFixed(2))," ",n.a.createElement("br",null)),n.a.createElement(L.a,{color:"dark",style:{marginTop:"0rem"},block:!0},"Confirm Transaction"))))))}),Oe=Object(m.g)(e=>{var t=Object(o.c)(),a=Object(o.d)(e=>e),r=Object(o.d)(e=>e.cartItems),c=r.cart,m=r.vehicle?r.vehicle:null;return Object(l.useEffect)(()=>{t({type:"CLEAR_ERRORS"})},[r]),Object(l.useEffect)(()=>{t({type:"CLEAR_ERRORS"})},[a.errors]),c&&m?n.a.createElement(n.a.Fragment,null,n.a.createElement(j.a,{style:{marginTop:"5rem"}},null!==a.error.msg&&n.a.createElement(A.a,{color:"danger"},a.error.msg.msg),n.a.createElement("h2",null,"Your Current Transaction"),n.a.createElement(z.a,null,n.a.createElement(Y.a,{className:"shopping-list"},n.a.createElement(X.a,{timeout:0,classNames:"fade"},n.a.createElement(H.a,null,n.a.createElement("h4",null,"Vehicle"),n.a.createElement("hr",null),n.a.createElement($.a,{hover:!0,responsive:!0,borderless:!0,style:{overflowX:"auto"}},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null),n.a.createElement("th",null,n.a.createElement("img",{src:"".concat(m.vehicle_image),alt:m.vehicle_name,width:"100px",height:"100px"})),n.a.createElement("th",null,"Vehicle Plate"),n.a.createElement("th",null,"Vehicle Name"),n.a.createElement("th",null,"Vehicle Mileage"))),n.a.createElement("tbody",{key:m._id,style:{backgroundColor:null}},n.a.createElement("tr",null,n.a.createElement("th",{scope:"row"}),n.a.createElement("td",{className:"d-flex flex-column",style:{width:"100px"}},n.a.createElement(n.a.Fragment,null,n.a.createElement(L.a,{className:"remove-btn",color:"danger",size:"sm",outline:!0,style:{fontSize:"11px",width:"100px"},onClick:()=>{t(g())}},"Remove"))),n.a.createElement("td",null,m.vehicle_number),n.a.createElement("td",null,m.vehicle_name),n.a.createElement("td",null,m.vehicle_mileage)))))))),c.length&&n.a.createElement(n.a.Fragment,null,n.a.createElement(z.a,null,n.a.createElement(Y.a,{className:"shopping-list"},n.a.createElement(X.a,{timeout:0,classNames:"fade"},n.a.createElement(H.a,null,n.a.createElement("h4",null,"Parts & Services"),n.a.createElement("hr",null),n.a.createElement($.a,{hover:!0,responsive:!0,borderless:!0,style:{overflowX:"auto"}},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null),n.a.createElement("th",null),n.a.createElement("th",null),n.a.createElement("th",null,"Quantity"),n.a.createElement("th",null,"Item Price"),n.a.createElement("th",null,"Item Total"))),c.map(e=>n.a.createElement("tbody",{key:e._id},n.a.createElement("tr",null,n.a.createElement("th",{scope:"row"}),n.a.createElement("td",null,n.a.createElement("img",{src:"".concat(e.item_image),alt:e.item_name,width:"100px",height:"100px"})),n.a.createElement("td",null,e.item_name),n.a.createElement("td",null,n.a.createElement(s.b,{to:{pathname:"/cart",state:{item:e}}},n.a.createElement(L.a,{className:"edit-btn",size:"sm",outline:!0,onClick:a=>t((e=>(t,a)=>{t(b()),u.a.put("/api/cart-items/decrease",{item:e},p(a)).then(e=>{t({type:"UPDATE_CART_ITEM",payload:e.data})}).catch(e=>t(E(e.response.data,e.response.status)))})(e)),style:{fontSize:"10px",margin:"4px"}},"-")),e.item_quantity,n.a.createElement(s.b,{to:{pathname:"/cart",state:{item:e}}},n.a.createElement(L.a,{className:"edit-btn",outline:!0,size:"sm",onClick:()=>t(_(e)),style:{fontSize:"10px",margin:"4px"}},"+")),n.a.createElement("br",null),n.a.createElement(L.a,{className:"remove-btn",color:"danger",size:"sm",outline:!0,onClick:a=>t((e=>(t,a)=>{t(b()),u.a.delete("/api/cart-items/delete-item/".concat(e._id),p(a)).then(e=>{t({type:"DELETE_CART_ITEM",payload:e.data})}).catch(e=>t(E(e.response.data,e.response.status)))})(e)),style:{fontSize:"11px",margin:"2px"}},"\xd7 remove")),n.a.createElement("td",null,"$",e.item_price),n.a.createElement("td",null,"$",(e.item_price*e.item_quantity).toFixed(2)))))))))),n.a.createElement(H.a,{style:{float:"right"}},"Subtotal: ",n.a.createElement("strong",null," $",pe(c))," ",n.a.createElement("br",null))),n.a.createElement(H.a,{style:{float:"left"}},n.a.createElement(s.b,{to:"/"},n.a.createElement(L.a,null,"Go back Home"))))):n.a.createElement(n.a.Fragment,null,n.a.createElement(j.a,null,n.a.createElement("h2",null,"You have no Items!"),n.a.createElement("h6",null,"Add a Items to your list.")))}),fe=()=>{Object(o.c)();var e=Object(o.d)(e=>e.checkout);return Object(l.useEffect)(()=>{console.log(e)},[e]),n.a.createElement("div",null,n.a.createElement(Oe,null),n.a.createElement(ye,null))},je=(Object(m.g)(fe),({id:e,invoice_number:t,transac_type:a,transac_items:r,transac_status:c,transac_operator:s,transac_vehicle:m,sale_transac:i,transac_customer:d,transac_subtotal:E,transac_discount:h,transac_taxes:p,transac_total:g,amount_received:_,transac_message:b,transac_date:y})=>{var O=i?"Subtotal":"Grand Total",f=(Object(o.d)(e=>e.vehicles),Object(l.useState)(null)),C=Object(v.a)(f,2),S=C[0],N=C[1];return Object(l.useEffect)(()=>{u.a.get("/api/vehicles/single/".concat(m)).then(e=>{console.log(e.data),N(e.data)})},[]),n.a.createElement(n.a.Fragment,null,n.a.createElement("i",{className:"fas fa-print",onClick:()=>{window.print()}}),n.a.createElement(j.a,null,n.a.createElement("div",{id:"divToPrint",className:"mt4",style:{width:"218mm",minHeight:"297mm",marginLeft:"auto",marginRight:"auto"}},n.a.createElement("div",{id:"page-wrap"},n.a.createElement("p",{id:"header"},"INVOICE"),n.a.createElement("div",{id:"identity"},n.a.createElement("p",{id:"address"},"Five Stars Express",n.a.createElement("br",null),"600 Essex Street, Lawrence MA 01841",n.a.createElement("br",null),"Phone: (978) 688-8888"),n.a.createElement("div",{id:"logo"},n.a.createElement("img",{id:"image",src:"http://www.fivestars.com.my/images/AgentSite/FiveStars/logo.png",alt:"logo"}))),n.a.createElement("div",{style:{clear:"both"}}),n.a.createElement("div",{id:"customer"},n.a.createElement("p",{id:"customer-title"},"internal"===a?a.toUpperCase():n.a.createElement(n.a.Fragment,null,n.a.createElement("br",null),d.name,n.a.createElement("br",null),d.phone,n.a.createElement("br",null),d.email)),n.a.createElement("table",{id:"meta"},n.a.createElement("tbody",null,n.a.createElement("tr",null,n.a.createElement("td",{className:"meta-head"},"Invoice #"),n.a.createElement("td",null,n.a.createElement("p",null,t))),n.a.createElement("tr",null,n.a.createElement("td",{className:"meta-head"},"Date"),n.a.createElement("td",null,n.a.createElement("p",{id:"date"},Date(y).slice(0,15)))),n.a.createElement("tr",null,n.a.createElement("td",{className:"meta-head"},"Amount Due"),n.a.createElement("td",null,n.a.createElement("div",{className:"due"},"$",g))),_&&n.a.createElement("tr",null,n.a.createElement("td",{className:"meta-head"},"Amount Received"),n.a.createElement("td",null,n.a.createElement("div",{className:"due"},"$",_)))))),S&&n.a.createElement(n.a.Fragment,null,n.a.createElement("table",{id:"vehicle"},n.a.createElement("tbody",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Vehicle Name"),n.a.createElement("th",null,"Description"),n.a.createElement("th",null,"Vehicle Plate"),n.a.createElement("th",null,"Vehicle Type"))),n.a.createElement("tbody",null,n.a.createElement("tr",null,n.a.createElement("td",null,S.vehicle_name),n.a.createElement("td",null,S.vehicle_desc),n.a.createElement("td",null,S.vehicle_number),n.a.createElement("td",null,S.vehicle_type))))),n.a.createElement("table",{id:"items"},n.a.createElement("tbody",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Item"),n.a.createElement("th",null,"Description"),n.a.createElement("th",null,"Unit Cost"),n.a.createElement("th",null,"Quantity"),n.a.createElement("th",null,"Price"))),r.map(e=>n.a.createElement("tbody",{key:e._id},n.a.createElement("tr",{className:"item-row"},n.a.createElement("td",{className:"item-name"},n.a.createElement("div",{className:"delete-wpr"},n.a.createElement("p",null,e.item_name))),n.a.createElement("td",{className:"description"},n.a.createElement("p",null,e.item_type)),n.a.createElement("td",null,n.a.createElement("p",{className:"cost"},"$",e.item_price)),n.a.createElement("td",null,n.a.createElement("p",{className:"qty"},e.item_quantity)),n.a.createElement("td",null,n.a.createElement("span",{className:"price"},"$",(e.item_price*e.item_quantity).toFixed(2)))))),n.a.createElement("tbody",null,n.a.createElement("tr",null,n.a.createElement("td",{colSpan:"2",className:"blank"}," "),n.a.createElement("td",{colSpan:"2",className:"total-line"},"Subtotal"),n.a.createElement("td",{className:"total-value"},n.a.createElement("div",{id:"subtotal"},"$",E))),h>0&&n.a.createElement("tr",null,n.a.createElement("td",{colSpan:"2",className:"blank"}," "),n.a.createElement("td",{colSpan:"2",className:"total-line"},"Discount"),n.a.createElement("td",{className:"total-value"},n.a.createElement("div",{id:"subtotal"},n.a.createElement("del",null,"$",h.toFixed(2))))),n.a.createElement("tr",null,n.a.createElement("td",{colSpan:"2",className:"blank"}," "),n.a.createElement("td",{colSpan:"2",className:"total-line"},"Sales Tax:"),n.a.createElement("td",{className:"total-value"},n.a.createElement("div",{id:"total"},"$",p)))),n.a.createElement("tbody",null,n.a.createElement("tr",null,n.a.createElement("td",{colSpan:"2",className:"blank"}," "),n.a.createElement("td",{colSpan:"2",className:"total-line balance"},O),n.a.createElement("td",{className:"total-value balance"},n.a.createElement("div",{className:"due"},"$",g)))))))))}),Ce=Object(m.g)(e=>{var t=e.location.state.trans,a=t._id,l=t.invoice_number,r=t.transac_type,c=t.transac_items,s=t.transac_status,m=t.transac_operator,o=t.transac_customer,i=t.transac_vehicle,u=t.sale_transac,d=t.transac_subtotal,E=t.transac_discount,h=t.transac_taxes,p=t.transac_total,g=t.amount_received,_=t.transac_message,b=t.transac_date;return n.a.createElement("div",null,n.a.createElement(je,{id:a,invoice_number:l,transac_type:r,transac_items:c,transac_status:s,transac_operator:m,transac_customer:o,transac_vehicle:i,sale_transac:u,transac_subtotal:d,transac_discount:E,transac_taxes:h,transac_total:p,amount_received:g,transac_message:_,transac_date:b}))}),Se=a(138),Ne=a.n(Se),xe=a(71),ke=a.n(xe),Ie=()=>({type:"SET_TRANS_LOADING"}),Te=a(283),Ae=a(274),we=a(78),Le=a(146),Re=a(270),Ve=a(271),De=a(272),Fe=a(277),Ge=a(275),Pe=a(279),qe=a(276),Me=a(278),Ue=a(236),Be=e=>n.a.createElement(qe.a,{trigger:n.a.createElement(Me.a,{raised:!0,className:"m-4 ",color:"blue"},n.a.createElement(Ue.a,{basic:!0,color:"blue"},n.a.createElement("p",null,e.title)," ",n.a.createElement("span",{className:".bg-info"},n.a.createElement("strong",null,e.customer)))),centered:!0,size:"tiny"},n.a.createElement(qe.a.Header,null,e.header),n.a.createElement(qe.a.Content,{style:{left:"30"}},e.children)),ze=Object(m.g)(e=>{var t=Object(l.useState)(!1),a=Object(v.a)(t,2),r=a[0],c=a[1],s=Object(l.useState)({}),m=Object(v.a)(s,2),i=(m[0],m[1]),u=Object(o.d)(e=>e.trans);return n.a.createElement(n.a.Fragment,null,0===!u.trans.length&&n.a.createElement("div",{className:"spinner"},n.a.createElement(B.a,{animation:"grow",variant:"info"})),u.trans.length<1&&n.a.createElement("div",null,n.a.createElement("div",{style:{magin:"5rem"}},"you have no trasanctions.")),u.trans.length&&n.a.createElement(Re.a,{className:"trans-container"},n.a.createElement(Ve.a,null,u.trans.map((t,a)=>n.a.createElement(Be,{title:ke()(t.transac_date).format("LLL"),customer:t.transac_status,header:ke()(t.transac_date).format("LLL"),key:a},n.a.createElement(De.a,{sm:!0,key:a},n.a.createElement(Fe.a,{key:t.invoice_number,className:"trans-card",style:He},n.a.createElement(Ge.a,null,n.a.createElement(Ge.a.Item,{action:!0},n.a.createElement("strong",null,"Invoice number: ")," ",t.invoice_number),n.a.createElement(Ge.a.Item,null,n.a.createElement("strong",null,"Sale date:")," ",ke()(t.transac_date).format("LLL")),n.a.createElement(Ge.a.Item,null,n.a.createElement("strong",null,"Transaction total:")," $",t.transac_total),n.a.createElement(Ge.a.Item,null,n.a.createElement("strong",null,"Assistant:")," ",t.transac_operator),n.a.createElement(Ge.a.Item,null,n.a.createElement(Te.a,{columns:1,relaxed:"very",stackable:!0},"external"===t.transac_type&&n.a.createElement(Te.a.Column,null,n.a.createElement(Le.a,{size:"sm",variant:"secondary",title:"Customer",key:a},n.a.createElement("h5",null,"Customer"),t.transac_customer.name&&n.a.createElement("p",{key:t.transac_customer.name},"Name: ",t.transac_customer.name),t.transac_customer.email&&n.a.createElement("p",{key:t.transac_customer.email},"Email: ",t.transac_customer.email),t.transac_customer.phone&&n.a.createElement("p",{key:t.transac_customer.phone},"Phone: ",t.transac_customer.phone))),n.a.createElement(Te.a.Column,null,n.a.createElement(Le.a,{size:"sm",variant:"secondary",title:"Items",key:a},n.a.createElement("h5",null,"Items"),n.a.createElement(Fe.a.Body,null,t.transac_items.map(e=>n.a.createElement("p",{as:"li",key:e._id},"(",e.item_quantity,") ",e.item_name))),t.amount_received&&n.a.createElement(n.a.Fragment,null,n.a.createElement("h5",null,"Amount Received"),n.a.createElement("p",{as:"li",key:t.amount_received},"$",t.amount_received)),t.message&&n.a.createElement(n.a.Fragment,null,n.a.createElement("h5",null,"Message"),n.a.createElement("p",{as:"li",key:t.transac_message},t.transac_message))))))),n.a.createElement(Pe.a,{variant:"light",onClick:()=>{i(t),c(!r),e.setInvoice(t),e.history.push({pathname:"/invoice",state:{trans:t}})}},"Print invoice"))))))),r&&n.a.createElement("div",null,n.a.createElement(je,{id:u._id,invoice_number:u.invoice_number,transac_type:u.transac_type,transac_items:u.transac_items,transac_status:u.transac_status,transac_operator:u.transac_operator,transac_vehicle:u.transac_vehicle,sale_transac:u.sale_transac,transac_subtotal:u.transac_subtotal,transac_discount:u.transac_discount,transac_taxes:u.transac_taxes,transac_total:u.transac_total,amount_received:u.amount_received,transac_message:u.transac_message,transac_date:u.transac_date})))}),He={display:"flex",margin:".3rem",width:"30rem",minWidth:"300px",maxWidth:"350px",boxRadius:"0.5rem",boxShadow:"inset 0 1px 1px rgba(0,0,0, 0.075), 0 0 8px hsla(0, 0%, 76.9%, 0.4)"},$e={isLoading:!1,results:[],value:"",toggle:!1};class Ye extends l.Component{constructor(...e){super(...e),this.state=$e,this.handleResultSelect=(e,{result:t})=>this.setState({value:t.transac_type,results:[t]}),this.handleSearchChange=(e,{value:t})=>{this.setState({isLoading:!0,value:t}),setTimeout(()=>{if(this.state.value.length<1)return this.setState($e);var e=new RegExp(Ne.a.escapeRegExp(this.state.value),"i");this.setState({isLoading:!1,results:Ne.a.filter(this.props.trans,t=>e.test("".concat(t.transac_status," ").concat(t.transac_type," ").concat(t.transac_items.map(e=>e.item_name)," ").concat(t.transac_operator," ").concat(ke()(t.transac_date).format("LLL"))))})},300)}}render(){var e=this.state,t=e.isLoading,a=e.value,l=e.results,r=e.toggle,c=l;return n.a.createElement(Te.a,null,n.a.createElement(Te.a.Column,{width:10},n.a.createElement(Ae.a,Object.assign({input:{type:a.length<=0?n.a.createElement(we.a,{name:"search"}):n.a.createElement(we.a,{className:"search-icon",name:"delete",link:!0,onClick:()=>this.setState({isLoading:!1,results:[],value:""})}),iconPosition:"left"},loading:t,onResultSelect:this.handleResultSelect,onSearchChange:Ne.a.debounce(this.handleSearchChange,500,{leading:!0}),results:l,resultRenderer:Qe,value:a},this.props))),c.length&&n.a.createElement(Re.a,{className:"trans-container"},n.a.createElement(Ve.a,null,c.map((e,t)=>n.a.createElement(De.a,{sm:!0,key:t},n.a.createElement(Fe.a,{key:e.invoice_number,className:"trans-card",style:We},n.a.createElement(Ge.a,null,n.a.createElement(Ge.a.Item,{action:!0},n.a.createElement("strong",null,"Status: ")," ",e.transac_status),n.a.createElement(Ge.a.Item,{action:!0},n.a.createElement("strong",null,"Invoice number: ")," ",e.invoice_number),n.a.createElement(Ge.a.Item,null,n.a.createElement("strong",null,"Sale date:")," ",ke()(e.transac_date).format("LL")),n.a.createElement(Ge.a.Item,null,n.a.createElement("strong",null,"Transaction total:")," $",e.transac_total),n.a.createElement(Ge.a.Item,null,n.a.createElement("strong",null,"Assistant:")," ",e.transac_operator),n.a.createElement(Ge.a.Item,null,n.a.createElement(Te.a,{columns:1,relaxed:"very",stackable:!0},"external"===e.transac_type&&n.a.createElement(Te.a.Column,null,n.a.createElement(Le.a,{size:"sm",variant:"secondary",title:"Customer",key:t},n.a.createElement("h5",null,"Customer"),e.transac_customer.name&&n.a.createElement("p",{key:e.transac_customer.name},"Name: ",e.transac_customer.name),e.transac_customer.email&&n.a.createElement("p",{key:e.transac_customer.email},"Email: ",e.transac_customer.email),e.transac_customer.phone&&n.a.createElement("p",{key:e.transac_customer.phone},"Phone: ",e.transac_customer.phone))),n.a.createElement(Te.a.Column,null,n.a.createElement(Le.a,{size:"sm",variant:"secondary",title:"Items",key:t},n.a.createElement("h5",null,"Items"),n.a.createElement(Fe.a.Body,null,e.transac_items.map(e=>n.a.createElement("p",{as:"li",key:e._id},"(",e.item_quantity,") ",e.item_name)))))))),n.a.createElement(Pe.a,{variant:"light",onClick:()=>{this.setState({toggle:!r}),this.props.history.push({pathname:"/invoice",state:{trans:e}})}},"Print invoice")),e&&r&&Je(e))))),!l.length&&n.a.createElement(ze,null))}}var Xe=Object(o.b)(e=>({trans:e.trans.trans}))(Object(m.g)(Ye)),Qe=({transac_items:e,transac_date:t,transac_operator:a,transac_total:l,transac_status:r})=>[n.a.createElement("div",{key:"content",className:"content"},r&&n.a.createElement("div",{className:"price"},"Customer: ",r),l&&n.a.createElement("div",{className:"title"},"Total: $",l),t&&n.a.createElement("div",{className:"description"},"Sale date: ",ke()(t).format("LL")),e&&e.map(e=>n.a.createElement("p",null,"(",e.item_quantity,") ",e.item_name)),a&&n.a.createElement("div",{className:"title"},"Assistant: ",a))],We={display:"flex",margin:".3rem",width:"20rem",minWidth:"300px",maxWidth:"350px",boxRadius:"0.5rem",boxShadow:"inset 0 1px 1px rgba(0,0,0, 0.075), 0 0 8px hsla(0, 0%, 76.9%, 0.4)"},Je=e=>{var t=e._id,a=e.invoice_number,l=e.transac_type,r=e.transac_items,c=e.transac_status,s=e.transac_operator,m=e.transac_vehicle,o=e.sale_transac,i=e.transac_subtotal,u=e.transac_discount,d=e.transac_taxes,E=e.transac_total,h=e.amount_received,p=e.transac_message,g=e.transac_date;return n.a.createElement("div",null,n.a.createElement(je,{id:t,invoice_number:a,transac_type:l,transac_items:r,transac_status:c,transac_operator:s,transac_vehicle:m,sale_transac:o,transac_subtotal:i,transac_discount:u,transac_taxes:d,transac_total:E,amount_received:h,transac_message:p,transac_date:g}))},Ke=()=>{var e=Object(o.c)(),t=Object(o.d)(e=>e.auth),a=Object(o.d)(e=>e).cartItems.cart;return Object(l.useEffect)(()=>{e((e,t)=>{e({type:"USER_LOADING"}),u.a.get("/api/auth/user",p(t)).then(t=>e({type:"USER_LOADED",payload:t.data})).catch(t=>{e(E(t.response.data,t.response.status)),e({type:"AUTH_ERROR"})})}),e((e,t)=>{e(b()),u.a.get("/api/cart-items",p(t)).then(t=>{e({type:"SET_CART",payload:t.data})}).catch(t=>e(E(t.response.data,t.response.status)))}),e((e,t)=>{e(b()),u.a.get("/api/cart-items/vehicle",p(t)).then(t=>{e({type:"SET_CART_VEHICLE",payload:t.data})}).catch(t=>e(E(t.response.data,t.response.status)))}),e((e,t)=>{e(Ie()),u.a.get("/api/item-checkout",p(t)).then(t=>{e({type:"GET_TRANS",payload:t.data})}).catch(t=>e(E(t.response.data,t.response.status)))}),e(ae())},[]),t.isAuthenticated?t.isLoading?n.a.createElement(n.a.Fragment,null,n.a.createElement(s.a,null,n.a.createElement(U,null),n.a.createElement("div",{className:"spinner"},n.a.createElement(B.a,{animation:"grow",variant:"info"})))):n.a.createElement(s.a,null,n.a.createElement("div",{className:"App"},n.a.createElement(U,null),n.a.createElement(j.a,null,n.a.createElement(m.c,null,n.a.createElement(m.a,{path:"/",exact:!0,render:()=>n.a.createElement(re,{cart:a})}),n.a.createElement(m.a,{path:"/vehicle/edit/:id",exact:!0,render:e=>n.a.createElement(ie,e)}),n.a.createElement(m.a,{path:"/item/edit/:id",exact:!0,render:e=>n.a.createElement(oe,e)}),n.a.createElement(m.a,{path:"/cart",exact:!0,render:e=>n.a.createElement(fe,e)}),n.a.createElement(m.a,{path:"/dashboard",exact:!0,render:e=>n.a.createElement(Xe,e)}),n.a.createElement(m.a,{path:"/invoice",exact:!0,render:e=>n.a.createElement(Ce,e)}))))):n.a.createElement(n.a.Fragment,null,n.a.createElement(s.a,null,n.a.createElement(U,null),n.a.createElement("div",{className:"spinner"},n.a.createElement(B.a,{animation:"grow",variant:"info"}))))},Ze=a(66),et=a(178),tt={items:[],loading:!1},at={vehicles:[],loading:!1},lt={msg:null,status:null,id:null},nt={token:localStorage.getItem(d),isAuthenticated:null,isLoading:!1,user:null},rt={cart:[],vehicle:null,loading:!1},ct={trans:[],loading:!1},st={posted:!1,invoice:null,loading:!1},mt=Object(Ze.c)({items:function(e=tt,t){switch(t.type){case"GET_ITEMS":return Object(ge.a)(Object(ge.a)({},e),{},{items:t.payload,loading:!1});case"DELETE_ITEM":return Object(ge.a)(Object(ge.a)({},e),{},{items:e.items.filter(e=>e._id!==t.payload)});case"ADD_ITEM":case"EDIT_ITEM":return Object(ge.a)(Object(ge.a)({},e),{},{items:[t.payload,...e.items],loading:!1});case"ITEMS_LOADING":return Object(ge.a)(Object(ge.a)({},e),{},{loading:!0});default:return e}},vehicles:function(e=at,t){switch(t.type){case"GET_VEHICLES":return Object(ge.a)(Object(ge.a)({},e),{},{vehicles:t.payload,loading:!1});case"DELETE_VEHICLE":return Object(ge.a)(Object(ge.a)({},e),{},{vehicles:e.vehicles.filter(e=>e._id!==t.payload)});case"ADD_VEHICLE":case"EDIT_VEHICLE":return Object(ge.a)(Object(ge.a)({},e),{},{vehicles:[t.payload,...e.vehicles],loading:!1});case"VEHICLES_LOADING":return Object(ge.a)(Object(ge.a)({},e),{},{loading:!0});default:return e}},error:function(e=lt,t){switch(t.type){case"GET_ERRORS":return{msg:t.payload.msg,status:t.payload.status,id:t.payload.id};case"CLEAR_ERRORS":return{msg:null,status:null,id:null};default:return e}},auth:function(e=nt,t){switch(t.type){case"USER_LOADING":return Object(ge.a)(Object(ge.a)({},e),{},{isLoading:!0});case"USER_LOADED":return Object(ge.a)(Object(ge.a)({},e),{},{isAuthenticated:!0,isLoading:!1,user:t.payload});case"LOGIN_SUCCESS":case"REGISTER_SUCCESS":return localStorage.setItem(d,t.payload.token),Object(ge.a)(Object(ge.a)(Object(ge.a)({},e),t.payload),{},{isAuthenticated:!0,isLoading:!1});case"AUTH_ERROR":case"LOGIN_FAIL":case"LOGOUT_SUCCESS":case"REGISTER_FAIL":return localStorage.removeItem(d),Object(ge.a)(Object(ge.a)({},e),{},{token:null,user:null,isAuthenticated:!1,isLoading:!1});default:return e}},cartItems:function(e=rt,t){switch(t.type){case"UPDATE_CART_ITEM":return"/cart"!==window.location.pathname&&W.a.fire({position:"top-end",title:"Success",text:"Item added to cart!",showConfirmButton:!1,timer:1200,icon:"success",footer:'<a href="/cart">Go to cart</a>'}),Object(ge.a)(Object(ge.a)({},e),{},{cart:t.payload,loading:!1});case"SET_CART":return Object(ge.a)(Object(ge.a)({},e),{},{cart:t.payload,loading:!1});case"SET_CART_VEHICLE":return Object(ge.a)(Object(ge.a)({},e),{},{vehicle:t.payload,loading:!1});case"DELETE_CART_ITEM":return"/cart"===window.location.pathname&&W.a.fire({title:"Removed",text:"Item removed!",showConfirmButton:!1,timer:1e3,icon:"info",footer:'<a href="/">Go to Vehicles</a>'}),Object(ge.a)(Object(ge.a)({},e),{},{cart:t.payload,loading:!1});case"DELETE_CART_VEHICLE":return"/cart"===window.location.pathname&&W.a.fire({title:"Removed",text:"Vehicle removed!",showConfirmButton:!1,timer:1e3,icon:"info",footer:'<a href="/">Go to Vehicles</a>'}),Object(ge.a)(Object(ge.a)({},e),{},{vehicle:null,loading:!1});case"EMPTY_CART":return Object(ge.a)(Object(ge.a)({},e),{},{cart:[],loading:!1});case"CART_LOADING":return Object(ge.a)(Object(ge.a)({},e),{},{loading:!0});default:return e}},trans:function(e=ct,t){switch(t.type){case"GET_TRANS":return Object(ge.a)(Object(ge.a)({},e),{},{trans:t.payload,loading:!1});case"SET_TRANS_LOADING":return Object(ge.a)(Object(ge.a)({},e),{},{loading:!0});default:return e}},checkout:function(e=st,t){switch(t.type){case"POST_TRANSACTION":return Object(ge.a)(Object(ge.a)({},e),{},{posted:!0,invoice:t.payload,loading:!1});case"SET_INVOICE":return Object(ge.a)(Object(ge.a)({},e),{},{invoice:t.payload,loading:!1});case"CLEAR_INVOICE":return Object(ge.a)(Object(ge.a)({},e),{},{invoice:null,loading:!1});case"SET_CHECKOUT_LOADING":return Object(ge.a)(Object(ge.a)({},e),{},{loading:!0});default:return e}}}),ot=[et.a],it=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Ze.d,ut=Object(Ze.e)(mt,{},it(Object(Ze.a)(...ot)));c.a.render(n.a.createElement(o.a,{store:ut},n.a.createElement(Ke,null)),document.getElementById("root"))}},[[195,1,2]]]);
//# sourceMappingURL=main.601b3a63.chunk.js.map